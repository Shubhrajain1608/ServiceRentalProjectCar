@model CarRentalProject.ViewModel.CarAndServiceViewModel
@{
    ViewBag.Title = "ShowLessServiceForm";
}

@section servicepage {
    <link href="@Url.Content("~/Content/serviceImage.css")" rel="stylesheet" />
}


<div class="container">

    <h3 style="color:white; font-family:'Times New Roman', Times, serif">ShowLessServiceForm</h3>

    <div class="form-group">
        <table class="table table-hover" style="background-color:aliceblue; font-family:'Times New Roman', Times, serif">
            <tr>
                <td>@Html.LabelFor(m => m.Car.Make)</td>
                <td>@Html.TextBoxFor(m => m.Car.Make, new { @class = "form-control", @readonly = "readonly" })</td>

                <td>@Html.LabelFor(m => m.Car.Style)</td>
                <td>@Html.TextBoxFor(m => m.Car.Style, new { @class = "form-control", @readonly = "readonly" })</td>
            </tr>

            <tr>
                <td>@Html.LabelFor(m => m.Car.Model)</td>
                <td>@Html.TextBoxFor(m => m.Car.Model, new { @class = "form-control", @readonly = "readonly" })</td>


                <td>@Html.LabelFor(m => m.Car.Year)</td>
                <td>@Html.TextBoxFor(m => m.Car.Year, new { @class = "form-control", @readonly = "readonly" })</td>
            </tr>
        </table>
        <br />
    </div>



    <h3 style="color:white; font-family:'Times New Roman', Times, serif">Services</h3>

    @using (Html.BeginForm("AddServices", "Car"))
    {

        <div class="form-group">
            <table class="table table-hover" style="background-color:aliceblue; font-family:'Times New Roman', Times, serif">
                <tr>
                    <td>@Html.LabelFor(m => m.Service.Miles)</td>
                    <td>@Html.TextBoxFor(m => m.Service.Miles, new { @class = "form-control" })</td>
                    <td>@Html.ValidationMessageFor(m => m.Service.Miles)</td>

                    <td>@Html.LabelFor(m => m.Service.Details)</td>
                    <td>@Html.TextBoxFor(m => m.Service.Details, new { @class = "form-control" })</td>
                    <td>@Html.ValidationMessageFor(m => m.Service.Details)</td>
                </tr>
                <tr>
                    <td>@Html.LabelFor(m => m.Service.Price)</td>
                    <td>@Html.TextBoxFor(m => m.Service.Price, new { @class = "form-control" })</td>
                    <td>@Html.ValidationMessageFor(m => m.Service.Price)</td>

                    <td>@Html.LabelFor(m => m.Service.ServiceType)</td>
                    <td>
                        @Html.DropDownListFor(m => m.Service.ServiceTypeId,
                                                     new SelectList(Model.ServiceType, "Id", "Name"),
                                                     "Select Service Type",
                                                     new { @class = "form-control" })
                    </td>
                    <td>@Html.ValidationMessageFor(m => m.Service.ServiceType)</td>

                </tr>
            </table>

            @Html.HiddenFor(m => m.Car.Id)
            @Html.HiddenFor(m => m.Car.Make)
            @Html.HiddenFor(m => m.Car.Model)
            @Html.HiddenFor(m => m.Car.Style)
            @Html.HiddenFor(m => m.Car.VIN)
            @Html.HiddenFor(m => m.Car.Color)
            <button class="btn btn-primary" style="color: white; text-decoration:none" type="submit">Add New Service</button>
            <br />
            <br />
            @*@Html.ValidationSummary("", new { @class = "form-control" })*@
        </div>
    }

    <h3 style="color:white; font-family:'Times New Roman', Times, serif">Past Service Records</h3>

    <table class="table table-hover" style="background-color:aliceblue; font-family:'Times New Roman', Times, serif">
        <tr>
            <th>Miles</th>
            <th>Price</th>
            <th>Details</th>
            <th>Date Added</th>
            <th>Service Name</th>
        </tr>

        @if (!Model.Services.Any())
        {
            <tr><td>No Services Found</td></tr>
        }

        @foreach (var c in Model.Services)
        {
            <tr>
                <td>@c.Miles</td>
                <td>@c.Price</td>
                <td>@c.Details</td>
                <td>@c.DateAdded</td>
                <td>@c.ServiceType.Name</td>
                @if (c.DateAdded == DateTime.Today)
                {
                    <td>@Html.ActionLink(" ", "Delete1", new { c.Id }, new { @class = "btn btn-danger fa fa-trash-o", @style = "color: white" })</td>
                }
            </tr>
        }

        <tr>@Html.ActionLink("Show Less", "AddNewServices", Model.Car, new { @class = "btn btn-primary", @style = "color: white; text-decoration:none" })</tr>
       
        
    </table>

</div>
@*@Html.ActionLink("Back To List", "CustAndCarForm", "Customer",Model.customer, new { @class = "btn btn-success", style = "color: white; text-decoration:none" })*@


